<ng-container *ngIf="staffStatistics$ | async as employees; else loading">
    <main fxFlex fxLayout="column" fxLayoutAlign="start center" fxLayoutGap="20px">
        <h2>Best employee ever</h2>
        <section
            fxFlex fxLayoutAlign="center center">
            <mat-card
                fxFlex fxLayout="column" fxLayoutAlign="space-between center"
                *ngFor="let employee of employees">
                <mat-card-header>
                    <h3> {{ employee.email }} </h3>
                </mat-card-header>
                <ng-container *ngIf="employee.avatarUrl">
                    <img src="{{ employee.avatarUrl }}" alt="Фотография сотрудника" />
                </ng-container>
                <mat-card-content>
                    This person made deals on <strong>{{ employee.purchasesAmount }}</strong> items
                </mat-card-content>
            </mat-card>
        </section>
    </main>
</ng-container>
<ng-template #loading>
    <mat-spinner></mat-spinner>
</ng-template>

